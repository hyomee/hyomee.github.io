# Copy of IoT

데이터추가장비메타장비장비에그림사물인터넷(IoT)은 다양한 기기와 센서를 인터넷에 연결해 데이터를 수집 및 분석하는 기술입니다. IoT 플랫폼을 설계할 때 고려해야 할 주요 사항은 다음과 같습니다.

1. **디바이스 연결 및 관리**: 다양한 IoT 기기와 센서를 효율적으로 연결하고 관리할 수 있는 시스템을 구축해야 합니다.
2. **데이터 수집 및 처리**: 센서에서 수집된 데이터를 저장하고 분석할 수 있는 능력이 필요합니다. 이는 클라우드 기반 서비스를 통해 이루어질 수 있습니다.
3. **보안**: IoT 기기와 데이터의 보안을 확보하는 것이 중요합니다. 이는 데이터 암호화, 안전한 네트워크 연결, 접근 제어 등을 포함합니다.
4. **확장성**: 시스템이 다양한 기기와 대량의 데이터를 처리할 수 있도록 설계해야 합니다.
5. **사용자 인터페이스**: 사용자가 쉽게 시스템을 모니터링하고 제어할 수 있는 직관적인 인터페이스가 필요합니다.

<figure><img src="../../.gitbook/assets/image (524).png" alt=""><figcaption></figcaption></figure>

본 문서에서는 다음과 같은 시스템에 대해서 설계를 하고자 합니다,

1. 기술센터와 지역간의 데이터 연계 체제 구축
2. 지역에서 대이토를 수집
3. 기술센터 데이터 저장 및 모니터링 체계

## 1. 기술센터와 지역간의 데이터 연계 체제 구축

지역에서 수집한 데이터를 기술 센터로 통합할 때, 메타데이터 관리, 데이터 전송 프로토콜, 데이터 통합 및 표준화, 데이터 보안, 데이터 처리 및 분석, 데이터 저장소, 인터페이스 및 사용자 경험, 확장성 및 유연성, 그리고 타 시스템과의 데이터 연계를 고려하여 시스템을 구축해야 합니다. 이러한 요소들을 고려함으로써, 데이터의 일관성, 신뢰성, 가용성, 그리고 확장성을 보장할 수 있습니다. 기술 센터와 지역 간의 데이터 연계 체제 구축은 이러한 요소들을 만족시키는 시스템을 개발하는 것을 목표로 합니다.

## 1-1. 데이터 통합 및 표준화

데이터 통합 및 표준화는 기술 센터와 지역 간 데이터 연계에 있어 가장 중요한 기술 요소로, 다양한 데이터 소스와 형식을 효과적으로 통합하고 데이터 간 상호 운용성을 보장하는 필수 과정입니다. 이는 메타데이터 관리(데이터셋), 데이터 포맷 표준화,  ETL 프로세스를 포함하며, 기술 센터와 지역 간 데이터 연계 구축에 있어 다음과 같은 방법으로 구축합니다.

#### 1-1-1.  메타데이터 관리(데이터 셋)

온도, 습도, 광량, 이산화탄소 농도 등의 환경 데이터와 토양의 습도, 온도, pH, 전기전도도, 산소 농도 등의 데이터, 그리고 장비 상태와 제어 데이터를 세분화하여 메타데이터로 정의하고 표준화합니다. 이를 통해 지역에서 재배하는 작물의 메타데이터 속성을 공유하고 데이터를 통합합니다. 예를 들어, 딸기 작물의 경우 날짜, 시간, 배지 무게(kg), 내부 CO2(ppm), 지습(%), 토양 pH(ph), 양액 공급량(cc), 양액 배액량(cc), 외부 온도(°C), 내부 온도(°C) 등의 메타데이터를 관리하는 프로그램을 작성 합니다.,

<figure><img src="../../.gitbook/assets/image (526).png" alt=""><figcaption><p> 그림 메타 데이터를 활용한 데이터 셋</p></figcaption></figure>



**1-1-1-1.** 메타관리프로그램

메타 관리 프로그램은 농장에서 사용되는 환경 속성과 제어 속성으로 구분되어 정의되며, 코드화되어 관리됩니다. 이러한 속성들은 코드화를 통해 체계적으로 관리됩니다. 다음은 해당 프로그램의 목록입니다..

<figure><img src="../../.gitbook/assets/image (525).png" alt=""><figcaption><p>그림: 메타관리프로그램</p></figcaption></figure>

<table><thead><tr><th width="150">프로그램</th><th width="92" align="center">구분</th><th>기능</th></tr></thead><tbody><tr><td>메타목록화면</td><td align="center">화면</td><td>메타(속성)의 이름, 분류, 코드를 조회 조건으로 사용하여 메타(속성)을 검색하고, 결과를 페이지 단위로 화면에 표시합니다.</td></tr><tr><td>메타상세화면</td><td align="center">화면</td><td>메타 목록 화면에서 선택한 메타(속성)에 대한 상세정보를 조회하여 팝업화면에 표시합니다.</td></tr><tr><td>메타등록화면</td><td align="center">화면</td><td><p>메타(속성)을 등록하는 화면에는 다음과 같은 항목들이 포함됩니다:</p><ul><li>메타(속성) 코드</li><li>메타(속성) 코드명</li><li>메타(속성) 한글명</li><li>메타(속성) 분류 (예: 환경, 제어장비, 토양 등)</li><li>설명</li></ul></td></tr><tr><td>메타수정화면</td><td align="center">화면</td><td>메타(속성)을 수정하는 화면 입니다.</td></tr><tr><td>메타삭제</td><td align="center">화면</td><td>메타(속성)을 삭제하는 기능 입니다.</td></tr><tr><td>메타목록조회</td><td align="center">RestAPI</td><td>이 서비스는 메타목록 화면에서 조회 조건을 받아 데이터베이스에 조회 요청을 하고 결과를 반환하는 서비스입니다.</td></tr><tr><td>메타상세조회</td><td align="center">RestAPI</td><td>메터(속성)코드를 검색 조건으로 사용하여 데이터베이스에서 정보를 조회하고 결과를 반환하는 서비스입니다.</td></tr><tr><td>메타등록</td><td align="center">RestAPI</td><td><p>메타(속성)을 기반으로 데이터를 생성합니다. 입력 항목은 다음과 같습니다:</p><ul><li>메타(속성) 코드</li><li>메타(속성) 코드명</li><li>메타(속성) 한글명</li><li>메타(속성) 분류 (예: 환경, 제어장비, 토양 등)</li><li>설명</li></ul></td></tr><tr><td>메타수정</td><td align="center">RestAPI</td><td><p>메타(속성)을 기반으로 데이터를  수정합니다. 입력 항목은 다음과 같습니다:</p><ul><li>메타(속성) 코드</li><li>메타(속성) 코드명</li><li>메타(속성) 한글명</li><li>메타(속성) 분류 (예: 환경, 제어장비, 토양 등)</li><li>설명</li></ul></td></tr><tr><td>메타삭제</td><td align="center">RestAPI</td><td>메타(속성) 코드를 입력받아 동일한 데이터가 삭제됩니다.</td></tr></tbody></table>



**1-1-1-2.** 장비관리프로그램

팜에서 사용되는 모든 장비를 등록하는 프로그램은 제조사, 모델 코드, 모델명, 사진 이미지, 장비 스펙을 포함하여 관리하며, 시설 환경과 관련된 장비 및 구동기 제어를 분류하여 관리합니다. 다음은 장비 관리 프로그램의 목록입니다.

<figure><img src="../../.gitbook/assets/image (528).png" alt=""><figcaption></figcaption></figure>

<table><thead><tr><th width="150">프로그램</th><th width="92" align="center">구분</th><th>기능</th></tr></thead><tbody><tr><td>장비목록화면</td><td align="center">화면</td><td>장비의 이름,제조사, 모델, 모델명등을 조건으로 조회하여 화면에 표시합니다.</td></tr><tr><td>장비상세화면</td><td align="center">화면</td><td>장비 화면에서 선택한 장비에 대한 상세정보를 조회하여 팝업화면에 표시합니다.</td></tr><tr><td>장비등록화면</td><td align="center">화면</td><td><p>장비을 등록하는 화면에는 다음과 같은 항목들이 포함됩니다:</p><ul><li>장비 모델 , 모델명, 제조사</li><li>장비 스펙 ( 재원 사양)</li><li>장비 구분 ( 센싱, 제어, 센싱 &#x26; 제어 )</li><li>설명</li></ul></td></tr><tr><td>장비수정화면</td><td align="center">화면</td><td><p>장비을 수정하는 화면에는 다음과 같은 항목들이 포함됩니다:</p><ul><li>장비 모델 , 모델명, 제조사</li><li>장비 스펙 ( 재원 사양)</li><li>장비 구분 ( 센싱, 제어, 센싱 &#x26; 제어 )</li><li>설명</li></ul></td></tr><tr><td>장비삭제</td><td align="center">화면</td><td>장비을 삭제하는 기능 입니다.</td></tr><tr><td>장비목록조회</td><td align="center">RestAPI</td><td>장비 화면에서 조회 조건을 받아 데이터베이스에 조회 요청을 하고 결과를 반환하는 서비스입니다.</td></tr><tr><td>장비상세조회</td><td align="center">RestAPI</td><td>장비코드를 검색 조건으로 사용하여 데이터베이스에서 정보를 조회하고 결과를 반환하는 서비스입니다.</td></tr><tr><td>장비등록</td><td align="center">RestAPI</td><td><p>장비 속성 데이터를 생성합니다. 입력 항목은 다음과 같습니다.</p><ul><li>장비 모델 , 모델명, 제조사</li><li>장비 스펙 ( 재원 사양)</li><li>장비 구분 ( 센싱, 제어, 센싱 &#x26; 제어 )</li><li>설명</li></ul></td></tr><tr><td>장비수정</td><td align="center">RestAPI</td><td><p>장비 속성 데이터를  수정합니다. 입력 항목은 다음과 같습니다:</p><ul><li>장비 모델 , 모델명, 제조사</li><li>장비 스펙 ( 재원 사양)</li><li>장비 구분 ( 센싱, 제어, 센싱 &#x26; 제어 )</li><li>설명</li></ul></td></tr><tr><td>장비삭제</td><td align="center">RestAPI</td><td>장비 코드를 입력받아 동일한 데이터가 삭제됩니다.</td></tr></tbody></table>

**1-1-1-3.** 장비 메타 데이터 연결 프로그램&#x20;

이 프로그램은 장비에서 사용되는 센싱 정보와 제어 정보를 메타(속성) 데이터와 연결합니다. 예를 들어, 액비기는 전원 ON/OFF, 밸브 ON/OFF, 양액 공급 횟수, 양액 공급량(cc) 등의 메타 속성을 가집니다. 장비 메타 데이터 연결 프로그램은 장비 목록 화면에서 장비를 선택하고 '메타(속성) 매핑' 버튼을 클릭할 때 시작되며, 이후 장비 속성 목록 화면이 열립니다. 다음은 장비 메타 데이터 연결 프로그램의 목록입니다.

<figure><img src="../../.gitbook/assets/image (531).png" alt=""><figcaption></figcaption></figure>

<table><thead><tr><th width="150">프로그램</th><th width="92" align="center">구분</th><th>기능</th></tr></thead><tbody><tr><td>장비 메타(속성) 목록 화면</td><td align="center">화면</td><td> 장비에 연결되어 있는 장비 메타(속성) 목록을 조회하여 화면에 표시합니다.</td></tr><tr><td> 장비 메타(속성)  추가</td><td align="center">화면<br>기능</td><td>메타(속성) 목록 화면을 팝업으로 오픈하고 오픈된 화면에서 속성을 선택하면 장비 메타 목록 화면에 추가 됩니다.<br>- 전원 ON/OFF, 밸브 ON/OFF, 양액 공급 횟수, 양액 공급량(cc) 등 선택<br>- 선택된 메타 정보는 저장 버튼 클릭시 저장 처리 됩니다.</td></tr><tr><td>장비 메타(속성)  삭제 체크</td><td align="center">화면<br>기능</td><td>장비 메타(속성) 목록 화면에서 삭제 체크를 합니다.<br>- 선택된 메타 정보는 저장 버튼 클릭시 삭제 처리 됩니다.</td></tr><tr><td>장비 메타(속성) 저장</td><td align="center">화면</td><td>추가 및 삭제 선택된 장비 메타(속성)을 저장 또는 삭제 처리를 합니다.</td></tr></tbody></table>

**1-1-1-4.** 작물관리프로그램

이 프로그램은 농장에서 재배되는 작물을 등록하고, 해당 작물의 재배에 사용되는 장비와 연동하여 재배 작물의 데이터셋을 구축하는 데 사용됩니다. 다음은 작물 관리 프로그램 목록입니다.

<figure><img src="../../.gitbook/assets/image (2).png" alt=""><figcaption></figcaption></figure>

<table><thead><tr><th width="150">프로그램</th><th width="92" align="center">구분</th><th>기능</th></tr></thead><tbody><tr><td>작물목록화면</td><td align="center">화면</td><td>작물의 이름, 수확시기등을 조건으로 조회하여 화면에 표시합니다.</td></tr><tr><td>작물상세화면</td><td align="center">화면</td><td>작물목록 화면에서 선택한 작물에 대한 상세정보를 조회하여 팝업화면에 표시합니다.</td></tr><tr><td>작물등록화면</td><td align="center">화면</td><td><p>작물을 등록하는 화면에는 다음과 같은 항목들이 포함됩니다:</p><ul><li>작물이름</li><li>모종시기, 수확시기 등</li><li>설명</li></ul></td></tr><tr><td>작물수정화면</td><td align="center">화면</td><td><p>작물을 수정하는 화면에는 다음과 같은 항목들이 포함됩니다:</p><ul><li>작물이름</li><li>모종시기, 수확시기 등</li><li>설명</li></ul></td></tr><tr><td>작물삭제</td><td align="center">화면</td><td>작물을 삭제하는 기능 입니다.</td></tr><tr><td>작물목록조회</td><td align="center">RestAPI</td><td>작물 화면에서 조회 조건을 받아 데이터베이스에 조회 요청을 하고 결과를 반환하는 서비스입니다.</td></tr><tr><td>작물상세조회</td><td align="center">RestAPI</td><td>작물코드를 검색 조건으로 사용하여 데이터베이스에서 정보를 조회하고 결과를 반환하는 서비스입니다.</td></tr><tr><td>작물등록</td><td align="center">RestAPI</td><td><p>작물 데이터를 생성합니다. 입력 항목은 다음과 같습니다.</p><ul><li>작물이름</li><li>모종시기, 수확시기 등</li><li>설명</li></ul></td></tr><tr><td>작물수정</td><td align="center">RestAPI</td><td><p>작물 데이터를  수정합니다. 입력 항목은 다음과 같습니다.</p><ul><li>작물이름</li><li>모종시기, 수확시기 등</li><li>설명</li></ul></td></tr><tr><td>작물삭제</td><td align="center">RestAPI</td><td>작물 코드를 입력받아 동일한 데이터가 삭제됩니다.</td></tr></tbody></table>

**1-1-1-5. 작물 데이터 셋 관리 프로그램**&#x20;

작물 관리 프로그램은 등록된 작물의 데이터셋을 생성하는 데 사용되며, 농장에 설치된 장비와 연동하여 장비의 메타데이터(속성)와 매핑해 작물 데이터셋을 만듭니다. 이 데이터는 농장에서 수집된 정보의 기초로 사용됩니다. 작물 데이터셋 관리 프로그램은 작물 목록 화면에서 시작하며, 다음은 그 프로그램의 목록입니다.

<figure><img src="../../.gitbook/assets/image (7).png" alt=""><figcaption></figcaption></figure>

<table><thead><tr><th width="148">프로그램</th><th width="92" align="center">구분</th><th>기능</th></tr></thead><tbody><tr><td>작물 메타 데이터 셋 화면</td><td align="center">화면</td><td>작물의 테이터 셋을 표시 하는 화면으로 선택된 작물의 테이터 셋을 화면에 조회하여 표시합니다.<br>- 팜, 수집일, 배지무게(kg), 내부CO2(ppm), 배지온도(도), (양액)공급횟수(회), 이슬점온도(도), (양액)공급EC(dS/m), 토양EC(dS/m), (양액)배액EC(dS/m), 외부습도(%),내부습도(%) 지습(%), 광량(μmol/m-2·s), 일사량(W/m-2·s)(내부), 내부조도(lux) (양액)공급량(cc), (양액)배액량(cc), (양액)공급PH(ph), 토양PH(ph) (양액)배액PH, 외부강우(mm), 강우감지, (양액)총급액(ℓ); (양액)총배액(ℓ) 일사량(W/m-2·s)(외부), 외부온도(도), 내부온도(도), 지온(도), 외부풍향(도) 외부풍속(m/s) 등 </td></tr><tr><td>작물별 장비 목록 화면</td><td align="center">화면</td><td>데이터 셋을 편성하기 위해 작물을 키우는데 적용된 장비 목록을 조회하여 화면에 표시합니다.</td></tr><tr><td>작물별 장비 추가</td><td align="center">화면<br>기능</td><td>장비 목록 화면을 팝업으로 오픈하고 오픈된 화면에서 장비를 선택하면 장비를 화면에 추가 됩니다.<br>- 선택된 장비는 저장 버튼 클릭시 저장 처리 됩니다.</td></tr><tr><td>작물별 장비 삭제 체크</td><td align="center">화면<br>기능</td><td>작물별 장비 목록 화면에서 삭제 체크를 합니다.<br>- 선택된 장비는 저장 버튼 클릭시 삭제 처리 됩니다.</td></tr><tr><td>작물별 장비 저장</td><td align="center">화면</td><td> 추가 및 삭제 선택된 장비를 작물별 장비에  저장 또는 삭제 처리를 하면서 작물 메타 데이터 셋을 저장 또는 삭제 합니다. 여기서 생성된 데이터 셋이 팜과 연동되는 메세지의 기본 값이 됩니다.</td></tr></tbody></table>

**1-1-1-6. 지역관리 프로그램**

지역 농장 관리 프로그램은 분류, 농장명,  농장주, 지역, 형태(온실, 노지 등),  농장 설명과 같은 기본 정보와 작기년도, 재배 품목,  정식일, 재배 면적과 같은 작기 정보를 등록합니다. 이 프로그램은 또한 재배 품목에 적합한 데이터셋을 선택하여 농장과 연동되는 메시지의 최종 정보 규격을 정의하고, 표준화되지 않은 메시지 키에 대한 매핑 정보를 구성하여 작물의 표준화된 메시지로 변환합니다. 이렇게 변환된 메시지는 사용자 대시보드 및 다른 농장과의 비교 분석에 사용되어 정확한 지표를 제공합니다. 다음은 지역 관리 프로그램의 목록입니다.



이 프로젝트는 애버커스가 그동안 해오지 못했던 서비스 업체로의 전환을 위한 첫걸음과 같습니다. 서비스 운영으로 인해 발생할 수 있는 여러 문제점에 대한 두려움이 있지만, 좋은 결과를 기대합니다.

#### 1-1-2. 데이터 보안

#### 1-1-3.  데이터 전송 프로토콜

메세지 포맷

#### 1-1-4. ETL 프로세스

### 1-2. 데이터 저장소

1-2-1. 데이터 처리 및 분석

1-2-2. 데이터 저장소

### 1-3. 인터페이스 및 사용자 경험

DashBoard

### 1-4.  확장성 및 유연성

### 1-5. 타 시스템과의 데이터 연계

